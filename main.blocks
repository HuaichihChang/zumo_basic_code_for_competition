<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="a.G{hXBZw:=^?aP^_guu">sm</variable><variable id="a4GmxjF`z#0R6r@,hmq1">list</variable><variable id="-~U?*m49,,Zf.El5txfD">collision</variable><variable id="@R4jg``C7?L?a2NNJLa@">x_axis</variable><variable id="5QY[gtjIXl/illfULp,n">s</variable><variable id="a%Xr(!8g3GkPFt8/e]X^">value</variable></variables><block type="pxt-on-start" id="w.,zTq/#B)YFd}q^eD$J" x="0" y="0"><statement name="HANDLER"><block type="createI2C" id="[p,^3b5GA9oC`MxiQb9C"><field name="scl">pins.SCL</field><field name="sda">pins.SDA</field><comment pinned="false" h="80" w="160">Initialization Code (**DO NOT MODIFY**)</comment><next><block type="zumo_init" id="WjgiOE/kNyO$8gS335=y"><value name="width"><shadow type="math_number" id="17fPAI3Ef7d|b[zZL5}7"><field name="NUM">128</field></shadow></value><value name="height"><shadow type="math_number" id="D-R(ksjm`vE4*p@3l7ps"><field name="NUM">64</field></shadow></value><next><block type="zumo_enableIMU" id="Mf(BTX{PeVJdcouuCS5t"><next><block type="zumo_Initialization" id="ZgOorJV_y@.`qWt.Frt_"><field name="type">Lightype.DIGITAL</field><next><block type="zumo_writeStringNewLine" id="_jgc0nv_03+b|H_s5h;U"><value name="str"><shadow type="text" id="ad2NcfS9I#8jl3+*:{?+"><field name="TEXT">ready ...</field></shadow></value><next><block type="zumo_writeStringNewLine" id="xuBI:?{sH+#gc}0.jrN7"><value name="str"><block type="zumo_readString" id="GSUa1;;2#B(PW+|SrY@~"><value name="value"><block type="zumo_calibratedMinimumOn_values" id="dL_*}OaH@-q*ljC_whMy"></block></value></block></value><next><block type="zumo_writeStringNewLine" id="6{S-ZF7l=M2dF}lW*@@S"><value name="str"><block type="zumo_readString" id="0N+hwk9fvu?h)9whndRK"><value name="value"><block type="zumo_calibratedMaximumOn_values" id="KpWoj)d9p_E6tg_B}wft"></block></value></block></value><next><block type="zumo_writeStringNewLine" id=")=~Lu$L%+8=%H3kfB0hr"><value name="str"><block type="zumo_readString" id="DOZj@=|P%l~L*}~uvkpi"><value name="value"><block type="zumo_readLine" id="N~.x[wVG*%B95FR7JHjD"></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="buttonEvent" id="2t_ju6hZt(!eV9Uja)Mb" x="980" y="100"><field name="button">input.buttonD12</field><field name="event">ButtonEvent.Click</field><statement name="HANDLER"><block type="zumo_clear" id="i3TbRtd89Q$#Ql-W?,?k"><next><block type="zumo_writeStringNewLine" id="~Cp70/{It`EALe!i;iNW"><value name="str"><shadow type="text" id="=VD^6xN406Ua|1;IUGo="><field name="TEXT">run</field></shadow></value><next><block type="playMelody" id=".7zL5b+XdK}TSjZ1s9D["><value name="melody"><shadow type="melody_editor" id="Ew{{0*Sl+Q:TpAOd6P11"><field name="melody">"B A G A G F A C5 "</field></shadow></value><value name="tempo"><shadow type="math_number_minmax" id="WDb9AczVtA;I/8CA2?JC"><mutation min="40" max="500" label="Number" precision="0"></mutation><field name="SLIDER">250</field></shadow></value><next><block type="device_while" id="KZNybC~@X(DJ?e3u8!O!"><comment pinned="false" h="80" w="160">Main Body</comment><value name="COND"><shadow type="logic_boolean" id="KlIcGUMwg.:w[%vhtbDy"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="variables_set" id="(dA_B_=R#XpSNA4:Hp*s"><field name="VAR" id="a.G{hXBZw:=^?aP^_guu">sm</field><comment pinned="false" h="80" w="160">Read Line Following Sensors to Detect Edge of Dohyo</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="Htuc-tzZq:0Otb.wr|xm"><mutation name="read_line" functionid="FRI4{6dN@WqK|pR*LY/;"><arg name="list2" id="4pi5bp7pigg96edfonp6" type="Array"></arg></mutation><value name="4pi5bp7pigg96edfonp6"><shadow type="variables_get"><field name="VAR" id="a4GmxjF`z#0R6r@,hmq1">list</field></shadow><block type="zumo_readLine" id="}fW{rLXV]b_sO#vkM,o%"></block></value></block></value><next><block type="controls_if" id="{Vn3mFPnN.vr.%}S-?b%"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">Is Robot inside Dohyo?</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="7Np1_Gm;PBbYvO5jugr3"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="SfFQ~Uw*to0@5[O=@;|k"><field name="VAR" id="a.G{hXBZw:=^?aP^_guu">sm</field></block></value><value name="B"><shadow type="math_number" id=":8/|29!dQXOnm=HAc1M$"><field name="NUM">500</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="{{FyXAq8,8bnEA|HM(K$"><field name="VAR" id="-~U?*m49,,Zf.El5txfD">collision</field><comment pinned="false" h="80" w="160">Yes Robot is in Dohyo
Read Accelerometer to Detect Collision</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="BOhu!n|0k_N(xfp17+?Y"><mutation name="read_accel" functionid="hwBvH:|*g}=}/Ek3G*{w"></mutation></block></value><next><block type="controls_if" id="3Dl7l)vm}aC8aJaGr5so"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">Collision?</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="ol_M)l=8[CeG%=0;Hav6"><field name="OP">OR</field><value name="A"><block type="logic_compare" id="e6),nfSyYf-d/qxFPexU"><field name="OP">LT</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id=";eRSwWxQ;^pc|XPT9l:*"><field name="VAR" id="-~U?*m49,,Zf.El5txfD">collision</field></block></value><value name="B"><shadow type="math_number" id="w!`(+|iw~9h@GS=2zBi?"><field name="NUM">-2</field></shadow></value></block></value><value name="B"><block type="logic_compare" id="J,wR4ung13FhgPJJ*Cn#"><field name="OP">GT</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id="q}:Tm%95~8XB0GCJA:SD"><field name="VAR" id="-~U?*m49,,Zf.El5txfD">collision</field></block></value><value name="B"><shadow type="math_number" id="$Dx+*#.zWm]b%FHK~Qn6"><field name="NUM">2</field></shadow></value></block></value></block></value><statement name="DO0"><block type="zumo_writeStringNewLine" id="vb:IqnKt]6DX8I1bI-ut"><comment pinned="false" h="80" w="160">Yes Collision Detected</comment><value name="str"><shadow type="text" id="#?ks#|Q)i`z7@H25ZbfV"><field name="TEXT">Collision!</field></shadow></value><next><block type="zumo_writeNumNewLine" id="c^!W)@jfFKmR.gIoY!l9"><value name="n"><block type="variables_get" id="Ml*k#6kXojCOv=-=1(9e"><field name="VAR" id="-~U?*m49,,Zf.El5txfD">collision</field></block></value><next><block type="device_while" id="E,*hQT-!!Pv$7QyGxNXd"><value name="COND"><shadow type="logic_boolean" id="-:OKX5.5KYe.+kj-cywb"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="function_call" id="ALTZLuRATN{7+#8[cx=)"><mutation name="pushHard" functionid=",IwQ,m264@a:K2[ASIu/"></mutation><next><block type="zumo_motor_run" id="v72ewBko|JD2-T(Eb6E4"><field name="motor">ZumoMotor.All</field><comment pinned="false" h="80" w="160">Run Motor at High Speed</comment><value name="speed"><shadow type="math_number_minmax" id="X=S0ZDoLc^!`TyCA$8S_"><mutation min="-100" max="100" label="Number" precision="0"></mutation><field name="SLIDER">100</field></shadow></value><next><block type="device_pause" id="pRWAs[i$Sz/UOf4znQ#?"><value name="pause"><shadow type="timePicker" id="TMfyHm%.%xt}ds|,%]*@"><field name="ms">50</field></shadow></value><next><block type="variables_set" id="%k1tdD0U*Uj{y:eHb#sC"><field name="VAR" id="a.G{hXBZw:=^?aP^_guu">sm</field><comment pinned="false" h="80" w="160">Read Line Sensor</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="J+;{@a[M(ED|s|hhP]3w"><mutation name="read_line" functionid="FRI4{6dN@WqK|pR*LY/;"><arg name="list2" id="4pi5bp7pigg96edfonp6" type="Array"></arg></mutation><value name="4pi5bp7pigg96edfonp6"><shadow type="variables_get"><field name="VAR" id="a4GmxjF`z#0R6r@,hmq1">list</field></shadow><block type="zumo_readLine" id="b%D_5pk7EQb|g8c:Qsdg"></block></value></block></value><next><block type="controls_if" id="=xQDlWGug(ALR*7[2j2@"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="_LVFdc5vYE|sL~WE0zs1"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="=r,J{2r`[~^k?W;Fco@)"><field name="VAR" id="a.G{hXBZw:=^?aP^_guu">sm</field></block></value><value name="B"><shadow type="math_number" id="m.5]?%Y0%Bi(/Rq~!=}1"><field name="NUM">500</field></shadow></value></block></value><statement name="DO0"><block type="break_keyword" id="xlSS^7()[u/wyo^7rVVe"><comment pinned="false" h="80" w="160">Edge Detected STOP and go Back to Normal Speed</comment></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name="ELSE"><block type="zumo_motor_run" id="A.||@0?Yz_-QqWI26iem"><field name="motor">ZumoMotor.All</field><comment pinned="false" h="80" w="160">No Collision Proceed at Normal Speed</comment><value name="speed"><shadow type="math_number_minmax" id="iry[MYM,1^f$izai|@|p"><mutation min="-100" max="100" label="Number" precision="0"></mutation><field name="SLIDER">99</field></shadow></value><next><block type="device_pause" id="ytwoY_vA]Ky,EI+tZsI|"><value name="pause"><shadow type="timePicker" id="uo?grZ*;R?V9/#(DN]DA"><field name="ms">50</field></shadow></value></block></next></block></statement></block></next></block></statement><statement name="ELSE"><block type="zumo_motor_stop" id="9P3anf}HagCrZhso,ti%"><field name="motor">ZumoMotor.All</field><comment pinned="false" h="80" w="160">Edge of Dohyo Detected, Stop and Turn Around</comment><next><block type="device_pause" id="LJKyZ8_]4s,hzaiFn%cD"><value name="pause"><shadow type="timePicker" id="7ZW?Wv+l}aXWQ).%kJ*p"><field name="ms">200</field></shadow></value><next><block type="zumo_motor_run" id="3^xxnT.%v8%*cC+T?I0m"><field name="motor">ZumoMotor.All</field><value name="speed"><shadow type="math_number_minmax" id=")BxLM=Zt$4]3?9oN9fXh"><mutation min="-100" max="100" label="Number" precision="0"></mutation><field name="SLIDER">-99</field></shadow></value><next><block type="device_pause" id="jnKyusIX8IDg=b+`jlI("><value name="pause"><shadow type="timePicker" id="x?E2LkcBrkmTP|EV8F1l"><field name="ms">1000</field></shadow></value><next><block type="turn" id="b]F@3MXTVEcU|@8fsO.I"><field name="motor">ZumoMotor.right</field><value name="speed"><shadow type="math_number_minmax" id="qs,qRB(uz?uYP];Mn@3#"><mutation min="-100" max="100" label="Number" precision="0"></mutation><field name="SLIDER">99</field></shadow></value><next><block type="device_pause" id="~PV-(kMuBwv7^s.Qj5qi"><value name="pause"><shadow type="timePicker" id="c}(DlDqu3Af-Cz{2!3##"><field name="ms">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="k`Mk~eMD%l8hv7q#j}qN" x="1980" y="180"><mutation name="read_line" functionid="FRI4{6dN@WqK|pR*LY/;"><arg name="list2" id="4pi5bp7pigg96edfonp6" type="Array"></arg></mutation><field name="function_name">read_line</field><comment pinned="false" h="80" w="160">Function to Read Line Sensors to Detect Edge of Dohyo</comment><statement name="STACK"><block type="variables_set" id="7aNT.Y`4hyo4TFAX.W9%"><field name="VAR" id="5QY[gtjIXl/illfULp,n">s</field><value name="VALUE"><shadow type="math_number" id="pi5GBW_NfU.Pd{mOfQf0"><field name="NUM">0</field></shadow></value><next><block type="pxt_controls_for_of" id="FZaawN+Pqj#[KX|Zbax3"><value name="VAR"><shadow type="variables_get_reporter" id="W*A*:+O^8r)X/^?%1G#M"><field name="VAR" id="a%Xr(!8g3GkPFt8/e]X^">value</field></shadow></value><value name="LIST"><block type="argument_reporter_array" id="-6w8!O=Qq`gawk.rUOJ-"><field name="VALUE">list2</field></block></value><statement name="DO"><block type="variables_set" id="Hj9De10_@L^FwM0Yn`)e"><field name="VAR" id="5QY[gtjIXl/illfULp,n">s</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="P_8kvW42$-Jqw~~U21d("><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="4pG7aeFVH;V~~|%dj?pm"><field name="VAR" id="5QY[gtjIXl/illfULp,n">s</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="L4,Jk374Sp,HAoDTf%nw"><field name="VAR" id="a%Xr(!8g3GkPFt8/e]X^">value</field></block></value></block></value></block></statement><next><block type="function_return" id="pprXI:2wCg?T,S$/$|v5"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="O+WOw!;:OJn:eMW)u%|I"><field name="VAR" id="5QY[gtjIXl/illfULp,n">s</field></block></value></block></next></block></next></block></statement></block><block type="function_definition" id="SM[?UW*%%u.e:-Bh#a]@" x="-490" y="690"><mutation name="pushHard" functionid=",IwQ,m264@a:K2[ASIu/"></mutation><field name="function_name">pushHard</field><statement name="STACK"><block type="device_set_digital_pin" id="ej(=jv?e6^g1CCG+I01D"><field name="name">pins.D9</field><value name="value"><shadow type="toggleHighLow" id="qOv=W}S)=Mv(#C,M+.4X"><field name="high">true</field></shadow></value><next><block type="device_set_digital_pin" id="hP=0w(,Z6r}]qF24?E[]"><field name="name">pins.D10</field><value name="value"><shadow type="toggleHighLow" id="05@tp^e[54@OEZ+JYcYI"><field name="high">true</field></shadow></value><next><block type="device_pause" id="-*Bzav[e.3kweK)6gLB]"><value name="pause"><shadow type="timePicker" id="5TVgC!KKdKQ3a8kULvzf"><field name="ms">500</field></shadow></value><next><block type="device_set_digital_pin" id="r)WvO.Of!k+nZj*Xa|;b"><field name="name">pins.D9</field><value name="value"><shadow type="toggleHighLow" id=";v$N{Eka}~;apLwKZQJD"><field name="high">false</field></shadow></value><next><block type="device_set_digital_pin" id="?o|{GLi=l0xFewpu@Yw="><field name="name">pins.D10</field><value name="value"><shadow type="toggleHighLow" id=".m_pw.q^{AEDQoRsI{q3"><field name="high">false</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="F~X,MP;.g0RpQ;c0mdg_" x="2000" y="600"><mutation name="read_accel" functionid="hwBvH:|*g}=}/Ek3G*{w"></mutation><field name="function_name">read_accel</field><comment pinned="false" h="80" w="160">Function to Read Accelerometer to Determine Collision</comment><statement name="STACK"><block type="variables_set" id=",Lhi-7Ih]W;UA-)fzm$U"><field name="VAR" id="@R4jg``C7?L?a2NNJLa@">x_axis</field><value name="VALUE"><shadow type="math_number" id="%;|auU}4!$7cW$3DwVvX"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="_i4|@1I`()4}6,Z`,{]y"><field name="VAR" id="@R4jg``C7?L?a2NNJLa@">x_axis</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="readIMUy" id="r)i^/]8o3Y}zYLepdmym"><field name="mode">ZumoIMUMode.ACC</field><field name="dir">ZumoIMUDirection.X</field></block></value><next><block type="function_return" id="TQ:Y;.Ut}^W`3+7oo3rG"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="m`+(:#*evluK(W`swwxN"><field name="VAR" id="@R4jg``C7?L?a2NNJLa@">x_axis</field></block></value></block></next></block></next></block></statement></block></xml>